(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{176:function(e,t,i){},201:function(e,t,i){"use strict";var n=i(176);i.n(n).a},212:function(e,t,i){"use strict";i.r(t);var n=i(172),r=(i(23),i(183)),a={name:"markdown-preview",props:{initialValue:{type:String,default:""},markedOptions:{type:Object,default:function(){return{}}},theme:{type:String,default:"light"},copyCode:{type:Boolean,default:!0},copyBtnText:{type:String,default:"复制代码"}},data:function(){return{html:"",previewImgModal:!1,previewImgSrc:"",previewImgMode:""}},mounted:function(){this.translateMarkdown()},methods:{translateMarkdown:function(){var e=Object(r.a)(this.initialValue,Object(n.a)({sanitize:!1},this.markedOptions)).replace(/href="/gi,'target="_blank" href="');this.copyCode&&(e=e.replace(/<pre>/g,'<div class="code-block"><span class="copy-code">'+this.copyBtnText+"</span><pre>").replace(/<\/pre>/g,"</pre></div>")),this.html=e,this.addCopyListener(),this.addImageClickListener()},addCopyListener:function(){var e=this;setTimeout(function(){var t=document.querySelectorAll(".code-block .copy-code");e.btns=t;for(var i=function(i,n){t[i].onclick=function(){var n=t[i].parentNode.querySelectorAll("pre")[0].innerText,r=document.createElement("input");r.setAttribute("value",n),document.body.appendChild(r),r.select(),document.execCommand("copy"),document.body.removeChild(r),e.$emit("on-copy",n)}},n=0,r=t.length;n<r;n++)i(n)},600)},addImageClickListener:function(){var e=this,t=this.imgs,i=void 0===t?[]:t;if(i.length>0)for(var n=0,r=i.length;n<r;n++)i[n].onclick=null;setTimeout(function(){e.imgs=e.$refs.preview.querySelectorAll("img");for(var t=function(t,i){e.imgs[t].onclick=function(){var i=e.imgs[t].getAttribute("src");e.previewImage(i)}},i=0,n=e.imgs.length;i<n;i++)t(i)},600)},previewImage:function(e){var t=this,i=new Image;i.src=e,i.onload=function(){var n=i.naturalWidth,r=i.naturalHeight;t.previewImgMode=r/n>1.4?"horizontal":"vertical",t.previewImgSrc=e,t.previewImgModal=!0}}},watch:{initialValue:function(){this.translateMarkdown()}}},o=(i(201),i(0)),c=Object(o.a)(a,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"preview"},[i("div",{class:"markdown-preview src-theme-"+e.theme,domProps:{innerHTML:e._s(e.html)}}),e._v(" "),i("div",{class:["preview-img",e.previewImgModal?"active":""]},[i("span",{staticClass:"close icon-close iconfont",on:{click:function(t){e.previewImgModal=!1}}}),e._v(" "),i("img",{class:[e.previewImgMode],attrs:{src:e.previewImgSrc,alt:""}})])])},[],!1,null,"2da3b7f0",null).exports,l=i(177),s={name:"preview",components:{Preview:c},data:function(){return{value:l.a}},mounted:function(){},methods:{}},u=Object(o.a)(s,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"preview"},[t("Preview",{attrs:{initialValue:this.value}})],1)},[],!1,null,null,null);t.default=u.exports}}]);